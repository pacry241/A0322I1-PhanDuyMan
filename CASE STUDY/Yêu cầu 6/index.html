<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Xổ số CODEGYM</h1>
<div id="ve">
    <input type="number" id="number1" min="1" max="99" step="1">
    <input type="number" id="number2" min="1" max="99" step="1">
    <input type="number" id="number3" min="1" max="99" step="1">
    <input type="number" id="number4" min="1" max="99" step="1">
    <input type="number" id="number5" min="1" max="99" step="1">
    <input type="number" id="number6" min="1" max="99" step="1">
</div> <br> <br>
<div id="button">
    <input type="submit" value="Mua vé" id="muaVe" onclick="muaVeFunction()"/>
    <input type="submit" value="Xem vé đã mua" id="ketQua" onclick="xemVeDaMua()"/>
    <input type="submit" value="Xem kết quả" id="veDaMua" onclick="ketQuaFunction()"/>
</div>
<dib><br> <br>
    <table border="1px center" cellspacing="0" id="tableHTML" style="text-align:center;">
    </table>
</dib>
<script>
    let tableHTML = "<tr>\n" +
        "            <th>STT</th>\n" +
        "            <th>FirstNum</th>\n" +
        "            <th>SecondNum</th>\n" +
        "            <th>ThirdNum</th>\n" +
        "            <th>FourthNum</th>\n" +
        "            <th>FifthNum</th>\n" +
        "            <th>SixthNum</th>\n" +
        "        </tr>";
    let arrayVeMua = [];
    let muaVe = false;
    function resetTableVe(){
        for( let index in arrayVeMua){
            tableHTML+= "<tr>\n" +
                "            <td>"+(parseInt(index)+1)+"</td>\n" +
                "            <td>"+arrayVeMua[index].getNumber1()+"</td>\n" +
                "            <td>"+arrayVeMua[index].getNumber2()+"</td>\n" +
                "            <td>"+arrayVeMua[index].getNumber3()+"</td>\n" +
                "            <td>"+arrayVeMua[index].getNumber4()+"</td>\n" +
                "            <td>"+arrayVeMua[index].getNumber5()+"</td>\n" +
                "            <td>"+arrayVeMua[index].getNumber6()+"</td>\n" +
                "        </tr>"
        }
        document.getElementById('tableHTML').innerHTML = tableHTML;
        tableHTML = "<tr>\n" +
            "            <th>STT</th>\n" +
            "            <th>FirstNum</th>\n" +
            "            <th>SecondNum</th>\n" +
            "            <th>ThirdNum</th>\n" +
            "            <th>FourthNum</th>\n" +
            "            <th>FifthNum</th>\n" +
            "            <th>SixthNum</th>\n" +
            "        </tr>";
    }
    class VeSo{
        constructor(number1,number2,number3,number4,number5,number6){
            this.number1 = number1;
            this.number2 = number2;
            this.number3 = number3;
            this.number4 = number4;
            this.number5 = number5;
            this.number6 = number6;
        }
        getNumber1(){
            return this.number1;
        }
        getNumber2(){
            return this.number2;
        }
        getNumber3(){
            return this.number3;
        }
        getNumber4(){
            return this.number4;
        }
        getNumber5(){
            return this.number5;
        }
        getNumber6(){
            return this.number6;
        }
        getAllNumbers(){
            return this.getNumber1()+"/"+this.getNumber2()+"/"+this.getNumber3()
                +"/"+this.getNumber4()+"/"+this.getNumber5()+"/"+this.getNumber6();
        }
    }
    class QuaySo{
        constructor(veSo,soTrung){
            this.veSo = veSo;
            this.soTrung = soTrung;
        }
        check(){
            if(this.veSo.getNumber1()==this.soTrung.getNumber1() &&
                this.veSo.getNumber2()==this.soTrung.getNumber2() &&
                this.veSo.getNumber3()==this.soTrung.getNumber3() &&
                this.veSo.getNumber4()==this.soTrung.getNumber4() &&
                this.veSo.getNumber5()==this.soTrung.getNumber5() &&
                this.veSo.getNumber6()==this.soTrung.getNumber6()){
                alert("Số vé trúng 6 số cuối: "+this.veSo.getAllNumbers()+" Được giải nhất");
            }else if(
                this.veSo.getNumber2()==this.soTrung.getNumber2() &&
                this.veSo.getNumber3()==this.soTrung.getNumber3() &&
                this.veSo.getNumber4()==this.soTrung.getNumber4() &&
                this.veSo.getNumber5()==this.soTrung.getNumber5() &&
                this.veSo.getNumber6()==this.soTrung.getNumber6()){
                alert("Số vé trúng 5 số cuối: "+this.veSo.getAllNumbers()+" Được giải nhì");
            }else if(
                this.veSo.getNumber4()==this.soTrung.getNumber4() &&
                this.veSo.getNumber5()==this.soTrung.getNumber5() &&
                this.veSo.getNumber6()==this.soTrung.getNumber6()){
                alert("Số vé trúng 3 số cuối: "+this.veSo.getAllNumbers()+" Được giải khuyến khích");
            }else{
                alert("Số vé: "+this.veSo.getAllNumbers()+" không trúng giải nào \n" +
                    "Chúc bạn may mắn lần sau :))");
            }
        }
    }

    function muaVeFunction(){
        if(muaVe == true){
            let number1 = document.getElementById('number1').value;
            let number2 = document.getElementById('number2').value;
            let number3 = document.getElementById('number3').value;
            let number4 = document.getElementById('number4').value;
            let number5 = document.getElementById('number5').value;
            let number6 = document.getElementById('number6').value;
            let veNew = new VeSo(number1,number2,number3,number4,number5,number6);
            arrayVeMua.push(veNew);
            alert('Mua vé thành công');
            document.getElementById('number1').value = 0;
            document.getElementById('number2').value = 0;
            document.getElementById('number3').value = 0;
            document.getElementById('number4').value = 0;
            document.getElementById('number5').value = 0;
            document.getElementById('number6').value = 0;
            resetTableVe();
            muaVe = false;
        }else{
            let choice = prompt('Bạn có 2 lựa chọn \n 1. Tự chọn số \n 2. Hệ thống random');
            if(choice == 2){
                document.getElementById('number1').value = Math.floor(Math.random()*100);
                document.getElementById('number2').value = Math.floor(Math.random()*100);
                document.getElementById('number3').value = Math.floor(Math.random()*100);
                document.getElementById('number4').value = Math.floor(Math.random()*100);
                document.getElementById('number5').value = Math.floor(Math.random()*100);
                document.getElementById('number6').value = Math.floor(Math.random()*100);
            }else{
                document.getElementById('number1').value = 0;
                document.getElementById('number2').value = 0;
                document.getElementById('number3').value = 0;
                document.getElementById('number4').value = 0;
                document.getElementById('number5').value = 0;
                document.getElementById('number6').value = 0;
            }
            muaVe = true;
        }
    }

    function xemVeDaMua(){
        if(arrayVeMua.length >0 ){
            let display = 'Vé đã mua: \n'
            for(let index in arrayVeMua){
                display += "Số vé:"+ arrayVeMua[index].getAllNumbers()+'\n';
            }
            alert(display);
        }else{
            alert('Chưa mua vé nào')
        }
    }

    function ketQuaFunction(){
        let number1 = Math.floor(Math.random()*100);
        let number2 = Math.floor(Math.random()*100);
        let number3 = Math.floor(Math.random()*100);
        let number4 = Math.floor(Math.random()*100);
        let number5 = Math.floor(Math.random()*100);
        let number6 = Math.floor(Math.random()*100);
        let soQuayRa = new VeSo(number1, number2, number3, number4, number5,number6);
        alert("Số vé trúng là : "+soQuayRa.getAllNumbers());
        for(let index in arrayVeMua){
            let quaySo = new QuaySo(arrayVeMua[index],soQuayRa);
            quaySo.check();
        }
    }


</script>
</body>
</html>